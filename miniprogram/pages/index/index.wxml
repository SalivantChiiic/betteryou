<view class="home-container">
	<block wx:for="{{allGroupImages}}" wx:key="fileId">
		<block wx:if="{{!!item.imgSecCheckRes || !imgSecCheck || showCensoredImg}}">
			<view class="avartarnamelikewrapper">
				<view class="avartarnamelikewrapper avatarnamewrapper">
					<block wx:if="{{!item.hidePoster}}">
						<image class="smallavatar" mode="cover" src="{{item.avatarUrl}}"></image>
						<text class="nickname">{{item.nickName}}</text>
					</block>
					<block wx:else>
						<image class="smallavatar" mode="cover" src="../../images/anonymous.png"></image>
						<text class="nickname">匿名</text>
					</block>
				</view>
			</view>
			<view class="imagewrapper">
				<block wx:if="{{item.path !=null && item.path.length > 0}}">
					<image lazy-load class="image {{!item.imgSecCheckRes?'danger':''}}" src="{{item.path}}" mode="widthFix" style="visibility:{{(!item.isCorrectlyAnswered && item.requireCorrectAnswer) || item.requireLikesNumber > item.likesCount?'hidden':'visible'}};"></image>
					<block wx:if="{{(!item.isCorrectlyAnswered && item.requireCorrectAnswer) || item.requireLikesNumber > item.likesCount}}">
						<view class="imagemask">
							<image lazy-load class="maskimage" style="filter:blur({{item.blurLevel}}rpx);" src="{{item.path}}" mode="widthFix" data-src="{{item}}"></image>
						</view>
					</block>
				</block>
				<image lazy-load wx:else class="image imageloading" src="../../images/wanted.jpg" mode="widthFix"></image>
				<view class="doubletaplikewrapper" data-index="{{index}}" bindtap="sendDoubleTapLike">
					<image id="doubletaplike{{index}}" class="doubletaplike" mode="aspectFit" src="../../images/like.png"></image>
				</view>
			</view>
			<view class="rowwrapper">
				<view class="iconcountwrapper">
					<image wx:if="{{item.likesCount == 0}}" class="likeicon" src="../../images/unlike.png" data-index="{{index}}" bindtap="sendLike"></image>
					<image wx:else id="like{{index}}" class="likeicon" src="../../images/like.png" data-index="{{index}}" bindtap="sendLike"></image>
					<text wx:if="{{item.likesCount > 0}}" class="liketext">{{item.likesCount}} 赞</text>
				</view>
				<!-- <view class="iconcountwrapper">
				<image wx:if="{{!item.blindsCount || item.blindsCount == 0}}" id="blind{{index}}" class="likeicon" src="../../images/blindface.png" data-index="{{index}}" bindtap="sendBlind"></image>
				<image wx:else id="blind{{index}}" class="likeicon" src="../../images/blindface2.png" data-index="{{index}}" bindtap="sendBlind"></image>
				<text wx:if="{{item.blindsCount > 0}}" class="liketext">{{item.blindsCount}} 不好</text>
			</view> -->
				<image class="likeicon" src="../../images/comment.png" mode="heightFix" data-index="{{index}}" bindtap="addComments"></image>

				<button class="sharebtn" open-type="share" type="default" size="mini" data-index="{{index}}">
					<image class="likeicon" src="../../images/share.png" mode="heightFix"></image>
				</button>
			</view>
			<view wx:if="{{!item.imgSecCheckRes}}" class="rowwrapper">
				<view class="censoredimg">图片包含敏感内容</view>
			</view>
			<view wx:if="{{item.requireLikesNumber > 0}}" class="rowwrapper" style="opacity:{{item.requireLikesNumber>item.likesCount?1:0.4}};">
				<view class="requirelikehint">点赞数达到{{item.requireLikesNumber}}解锁图片</view>
			</view>
			<view wx:if="{{item.requireCorrectAnswer}}" class="rowwrapper" style="opacity:{{item.isCorrectlyAnswered?0.4:1}};">
				<view class="requirecorrectanswerhint">出现正确答案后解锁图片</view>
			</view>
			<block wx:if="{{item.comments.length > 0}}">
				<view wx:for="{{item.comments}}" wx:key="date" wx:for-item="cmt" class="rowwrapper">
					<view class="comments">
						<block wx:if="{{!!item.hidePoster && cmt.openId == item.openId}}">
							<text class="comments" style="font-weight:bold; margin-right:20rpx;">匿名</text>{{cmt.comment}}
						</block>
						<block wx:else>
							<text class="comments" style="font-weight:bold; margin-right:20rpx;">{{cmt.poster}}</text>{{cmt.comment}}
						</block>
						<span wx:if="{{cmt.labelQA == 1}}" class="answerhint">问题</span>
						<span wx:elif="{{cmt.labelQA == 2}}" class="answerhint corrent">正确</span>
						<span wx:elif="{{cmt.labelQA == 3}}" class="answerhint incorrect">错误</span>
					</view>
				</view>
			</block>
		</block>
	</block>

	<!-- <view class="uploadbtnwrapper" bindtap="goUploadImage" hover-class="hoveruploadbtn"  hover-stay-time="100">
		<image src="../../images/upload.png" mode="widthFix"></image>
	</view> -->
</view>